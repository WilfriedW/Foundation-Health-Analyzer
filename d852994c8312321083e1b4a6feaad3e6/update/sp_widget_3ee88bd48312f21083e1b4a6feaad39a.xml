<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($scope, $location, $window) {
  var c = this;

  c.analysisId = $location.search().sys_id || c.data.analysisId || c.data.analysis_id || '';
  c.result = c.data.result || null;
  c.error = c.data.error || null;
  c.loading = !!c.analysisId && !c.result;
  c.activeTab = 'overview';
  c.issueCategory = 'all';
  c.issueCategories = ['all'];
  c.issueFilters = { severity: 'all', search: '' };

  c.setTab = function(tab) { c.activeTab = tab; };
  c.isTab = function(tab) { return c.activeTab === tab; };
  c.setIssueCategory = function(cat) { c.issueCategory = cat; };

  c.getHealthScoreClass = function(score) {
    if (score === null || score === undefined) return 'medium';
    if (score >= 70) return 'blue';
    if (score >= 40) return 'amber';
    return 'red';
  };

  c.getCategories = function() {
    return (c.result && c.result.categories) || {};
  };

  c.getCategoryItems = function(catId) {
    var cats = c.getCategories();
    var cat = cats[catId];
    if (!cat || !cat.items) return [];
    var out = [];
    cat.items.forEach(function(it) {
      var records = it.records || [];
      records.forEach(function(rec) {
        out.push(angular.extend({
          item_type: it.type,
          item_label: it.label || it.itemLabel,
          item_icon: it.icon || it.itemIcon,
          item_color: it.color || it.itemColor
        }, rec));
      });
    });
    return out;
  };

  c.getOptionsList = function() {
    var opts = (c.result && c.result.options) || {};
    return Object.keys(opts).map(function(key) {
      return { key: key, value: opts[key] };
    });
  };

  c.getConfigOptions = function() {
    var cfg = (c.result && c.result.config) || {};
    var opts = cfg.options || {};
    return Object.keys(opts).map(function(key) {
      return { key: key, value: opts[key] };
    });
  };

  c.getIssues = function() {
    return (c.result && c.result.issues) || [];
  };

  c.countBySeverity = function(sev) {
    var s = (sev || '').toLowerCase();
    return c.getIssues().filter(function(it){ return (it.severity || '').toLowerCase() === s; }).length;
  };

  c.healthScore = function() {
    return (c.result && (c.result.health_score || c.result.healthScore)) || 0;
  };

  c.getTableInfo = function() {
    var r = c.result || {};
    return {
      table_name: r.table_name || (r.config && r.config.table_name),
      table_label: r.table_label || (r.config && r.config.table_label),
      record_count: r.record_count || (r.stats && r.stats.record_count) || (r.table && r.table.record_count) || 0,
      custom_fields: r.custom_fields || (r.stats && r.stats.custom_fields) || 0,
      business_rules: r.business_rules || (r.stats && r.stats.business_rules) || 0,
      active_business_rules: r.active_business_rules || (r.stats && r.stats.active_business_rules) || 0,
      client_scripts: r.client_scripts || (r.stats && r.stats.client_scripts) || 0,
      active_client_scripts: r.active_client_scripts || (r.stats && r.stats.active_client_scripts) || 0
    };
  };

  c.getAutomationItems = function() {
    return c.getCategoryItems('automation');
  };
  c.getIntegrationItems = function() {
    return c.getCategoryItems('integration');
  };
  c.getSecurityItems = function() {
    return c.getCategoryItems('security');
  };

  c.buildIssueCategories = function() {
    var cats = ['all'];
    var seen = {};
    var issues = (c.result && c.result.issues) || [];
    issues.forEach(function(issue) {
      var cat = issue.category || 'general';
      if (!seen[cat]) {
        seen[cat] = true;
        cats.push(cat);
      }
    });
    return cats;
  };

  c.filteredIssues = function() {
    var issues = c.getIssues();
    var cat = c.issueCategory;
    var sev = c.issueFilters.severity;
    var search = (c.issueFilters.search || '').toLowerCase();

    return issues.filter(function(issue) {
      if (cat !== 'all' && (issue.category || 'general') !== cat) return false;
      if (sev !== 'all' && (issue.severity || '').toLowerCase() !== sev) return false;
      if (search) {
        var haystack = [
          issue.code,
          issue.message,
          issue.category,
          issue.record_table,
          issue.record_name
        ].join(' ').toLowerCase();
        if (haystack.indexOf(search) === -1) return false;
      }
      return true;
    });
  };

  c.countIssuesByCategory = function(cat) {
    if (!c.result || !c.result.issues) return 0;
    if (cat === 'all') return c.result.issues.length;
    var count = 0;
    c.result.issues.forEach(function(issue) {
      if ((issue.category || 'general') === cat) count++;
    });
    return count;
  };

  c.resetFilters = function() {
    c.issueFilters = { severity: 'all', search: '' };
  };

  c.openRecord = function(table, sysId) {
    if (!table || !sysId) return;
    $window.open('/' + table + '.do?sys_id=' + sysId, '_blank');
  };

  c.exportJSON = function() {
    if (!c.result) return;
    var blob = new Blob([JSON.stringify(c.result, null, 2)], { type: 'application/json' });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = (c.result.table_name || 'analysis') + '.json';
    a.click();
    URL.revokeObjectURL(url);
  };

  c.exportPDF = function() {
    $window.print();
  };

  c.enrich = function() {
    c.issueCategories = c.buildIssueCategories();
  };

  c.init = function() {
    if (c.result) {
      c.enrich();
      c.loading = false;
      return;
    }

    if (!c.analysisId) {
      c.error = '${Missing analysis identifier}';
      c.loading = false;
      return;
    }

    c.loading = true;
    c.server.get({ action: 'get_result', analysisId: c.analysisId }).then(function(resp) {
      if (resp.data && resp.data.success && resp.data.analysisResult) {
        c.result = resp.data.analysisResult;
        c.enrich();
        c.error = null;
      } else {
        c.error = (resp.data && resp.data.error) ? resp.data.error : '${Result not found}';
      }
      c.loading = false;
    }, function() {
      c.error = '${Server communication error}';
      c.loading = false;
    });
  };

  c.init();
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.fha-detail {
  max-width: 1200px;
  margin: 0 auto;
  padding: 22px 18px 28px;
  background: #f8fafc;
}

.fha-header {
  background: linear-gradient(135deg, #0c63d4 0%, #0a4f9c 100%);
  color: #fff;
  padding: 22px 24px;
  border-radius: 14px;
  margin-bottom: 18px;
  box-shadow: 0 8px 28px rgba(12, 99, 212, 0.25);
}

.fha-header h1 {
  margin: 0;
  font-size: 24px;
  font-weight: 700;
}

.fha-meta {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  font-size: 13px;
}

.fha-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.15);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.25);
  font-weight: 600;
}

.fha-tabs {
  display: flex;
  gap: 10px;
  margin: 18px 0 14px;
  flex-wrap: wrap;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 6px;
}

.fha-tab-btn {
  border: none;
  background: transparent;
  padding: 10px 16px;
  border-radius: 10px 10px 0 0;
  cursor: pointer;
  font-weight: 700;
  color: #4b5563;
  border-bottom: 3px solid transparent;
  transition: all 0.2s ease;
}

.fha-tab-btn:hover {
  color: #0c63d4;
  background: #eef5ff;
}

.fha-tab-btn.active {
  color: #0c63d4;
  border-bottom-color: #0c63d4;
  background: #eef5ff;
}

.fha-tab-btn .fha-badge {
  background: #0c63d4;
  color: #fff;
  border: none;
  padding: 3px 8px;
  font-size: 11px;
}

.fha-card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  margin-bottom: 16px;
  box-shadow: 0 6px 18px rgba(17, 24, 39, 0.06);
  overflow: hidden;
}

.fha-card h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 700;
  color: #0f172a;
}

.fha-card__head {
  padding: 14px 16px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #f8fafc;
}

.fha-card__body {
  padding: 16px;
}

.fha-data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.fha-data-table th,
.fha-data-table td {
  padding: 10px 12px;
  border-bottom: 1px solid #eef2f7;
  text-align: left;
}

.fha-data-table th {
  background: #f3f6fb;
  font-weight: 700;
  color: #1f2937;
}

.fha-data-table tr:hover td {
  background: #f9fbff;
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  background: #eef2f7;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.2px;
}

.pill.red { background: #fee2e2; color: #b91c1c; }
.pill.amber { background: #fef3c7; color: #b45309; }
.pill.blue { background: #dbeafe; color: #1d4ed8; }
.pill.gray { background: #e5e7eb; color: #374151; }

.issue-badge {
  padding: 6px 10px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 800;
  text-transform: uppercase;
  display: inline-block;
  letter-spacing: 0.4px;
}
.sev-high { background: #fee2e2; color: #b91c1c; }
.sev-medium { background: #fef3c7; color: #b45309; }
.sev-low { background: #e0f2fe; color: #075985; }

.section-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  margin: 0 0 6px 0;
  color: #0f172a;
}

.filter-bar {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.filter-bar label {
  font-size: 12px;
  font-weight: 700;
  color: #4b5563;
}

.filter-bar input,
.filter-bar select {
  padding: 8px 10px;
  border: 1px solid #cfd8e3;
  border-radius: 8px;
  font-size: 13px;
  background: #fff;
  min-width: 140px;
}

.filter-bar input:focus,
.filter-bar select:focus {
  outline: none;
  border-color: #0c63d4;
  box-shadow: 0 0 0 3px rgba(12, 99, 212, 0.18);
}

.fha-link {
  color: #0c63d4;
  text-decoration: none;
}

.fha-link:hover {
  text-decoration: underline;
}

.alert {
  border-radius: 10px;
  padding: 12px 14px;
  margin-bottom: 12px;
  border: 1px solid transparent;
}
.alert-danger { background: #fef2f2; color: #b91c1c; border-color: #fecdd3; }
.alert-info { background: #e0f2fe; color: #075985; border-color: #bae6fd; }</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>fha_analysis_detail</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>FHA Analysis detail</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
    data.analysisId = $sp.getParameter('sys_id') || (input && input.analysisId) || '';
    data.result = null;
    data.error = null;
    data.success = false;

    function loadResult(resultId) {
        if (!resultId) {
            return { success: false, error: gs.getMessage('Missing result identifier') };
        }

        var gr = new GlideRecord('x_1310794_founda_0_results');
        if (!gr.get(resultId)) {
            return { success: false, error: gs.getMessage('Result not found') };
        }

        var parsed;
        try {
            parsed = JSON.parse(gr.getValue('details') || '{}');
        } catch (err) {
            return { success: false, error: gs.getMessage('Unable to parse analysis details') };
        }

        parsed.number = parsed.number || gr.getValue('number');
        parsed.state = parsed.state || gr.getValue('state');
        parsed.status = parsed.status || parsed.state;
        parsed.health_score = parsed.health_score || parsed.healthScore || gr.getValue('health_score');
        parsed.sys_id = gr.getUniqueValue();
        parsed.created_on = parsed.created_on || gr.getDisplayValue('sys_created_on');
        parsed.created_by = parsed.created_by || gr.getDisplayValue('sys_created_by');

        return { success: true, result: parsed };
    }

    var initial = loadResult(data.analysisId);
    if (initial.success) {
        data.result = initial.result;
        data.success = true;
    } else if (data.analysisId) {
        data.error = initial.error;
    }

    if (input && input.action === 'get_result') {
        var res = loadResult(input.analysisId || data.analysisId);
        data.success = res.success;
        if (res.success) {
            data.analysisResult = res.result;
            data.error = '';
        } else {
            data.error = res.error;
        }
    }
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2026-01-03 22:38:44</sys_created_on>
        <sys_id>3ee88bd48312f21083e1b4a6feaad39a</sys_id>
        <sys_mod_count>40</sys_mod_count>
        <sys_name>FHA Analysis detail</sys_name>
        <sys_package display_value="Foundation Health Analyzer" source="x_1310794_founda_0">d852994c8312321083e1b4a6feaad3e6</sys_package>
        <sys_policy/>
        <sys_scope display_value="Foundation Health Analyzer">d852994c8312321083e1b4a6feaad3e6</sys_scope>
        <sys_update_name>sp_widget_3ee88bd48312f21083e1b4a6feaad39a</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2026-01-05 00:34:36</sys_updated_on>
        <template><![CDATA[<div class="fha-detail">
  <div class="fha-header">
    <div style="display:flex;flex-direction:column;gap:6px;">
      <h1>${Analysis Results}</h1>
      <div style="font-size:13px;opacity:0.9;">
        ${Detailed analysis of table:} <strong>{{c.result.table_label || c.result.table_name || (c.result.config && (c.result.config.table_label || c.result.config.table_name))}}</strong>
        <span style="opacity:0.8;">({{c.result.table_name || (c.result.config && c.result.config.table_name)}})</span>
      </div>
      <div class="fha-meta" ng-if="c.result">
        <span class="fha-badge">{{c.result.number || c.analysisId}}</span>
        <span class="fha-badge" ng-if="c.result.created_on">{{c.result.created_on}}</span>
        <span class="fha-badge" ng-if="c.result.created_by">{{c.result.created_by}}</span>
        <span class="fha-badge" ng-if="c.result.duration_ms">{{c.result.duration_ms}} ms</span>
      </div>
    </div>
  </div>

  <div class="alert alert-danger" ng-if="c.error">
    {{c.error}}
  </div>

  <div class="alert alert-info" ng-if="c.loading">
    ${Loading analysis results...}
  </div>

  <div ng-if="!c.loading && c.result">

    <!-- Stats -->
    <div class="fha-stats">
      <div class="fha-stat-card">
        <div class="fha-stat-value danger">{{c.healthScore()}}</div>
        <div class="fha-stat-label">${Health Score}</div>
      </div>
      <div class="fha-stat-card">
        <div class="fha-stat-value">{{c.countBySeverity('high')}}</div>
        <div class="fha-stat-label">${High Severity Issues}</div>
      </div>
      <div class="fha-stat-card">
        <div class="fha-stat-value warning">{{c.countBySeverity('medium')}}</div>
        <div class="fha-stat-label">${Medium Severity Issues}</div>
      </div>
      <div class="fha-stat-card">
        <div class="fha-stat-value info">{{c.countBySeverity('low')}}</div>
        <div class="fha-stat-label">${Low Severity Issues}</div>
      </div>
    </div>

    <!-- Actions -->
    <div class="fha-actions">
      <button class="fha-btn" ng-click="c.exportPDF()"><i class="fa fa-file-pdf-o"></i> ${Export PDF}</button>
      <button class="fha-btn" ng-click="c.exportJSON()"><i class="fa fa-download"></i> ${Export JSON}</button>
    </div>

    <!-- Tabs -->
    <div class="fha-tabs">
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('overview')}" ng-click="c.setTab('overview')">${Overview}</button>
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('issues')}" ng-click="c.setTab('issues')">
        ${Issues} <span class="fha-badge">{{c.getIssues().length}}</span>
      </button>
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('table')}" ng-click="c.setTab('table')">${Table}</button>
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('automation')}" ng-click="c.setTab('automation')">
        ${Automation} <span class="fha-badge">{{c.getAutomationItems().length}}</span>
      </button>
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('integration')}" ng-click="c.setTab('integration')">
        ${Integrations} <span class="fha-badge">{{c.getIntegrationItems().length}}</span>
      </button>
      <button class="fha-tab-btn" ng-class="{'active': c.isTab('security')}" ng-click="c.setTab('security')">
        ${Security} <span class="fha-badge">{{c.getSecurityItems().length}}</span>
      </button>
    </div>

    <!-- Overview -->
    <div ng-show="c.isTab('overview')">
      <div class="fha-grid">
        <div class="fha-card">
          <div class="fha-card__head"><h3>${Table Information}</h3></div>
          <div class="fha-card__body">
            <table class="fha-data-table">
              <tbody>
                <tr><td><strong>${Table name}</strong></td><td>{{c.getTableInfo().table_name || 'N/A'}}</td></tr>
                <tr><td><strong>${Table Label}</strong></td><td>{{c.getTableInfo().table_label || 'N/A'}}</td></tr>
                <tr><td><strong>${Record Count}</strong></td><td>{{c.getTableInfo().record_count}}</td></tr>
                <tr><td><strong>${Custom Fields}</strong></td><td>{{c.getTableInfo().custom_fields}}</td></tr>
                <tr><td><strong>${Business Rules}</strong></td><td>{{c.getTableInfo().business_rules}} ({{c.getTableInfo().active_business_rules}} ${Active})</td></tr>
                <tr><td><strong>${Client Scripts}</strong></td><td>{{c.getTableInfo().client_scripts}} ({{c.getTableInfo().active_client_scripts}} ${Active})</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="fha-card">
          <div class="fha-card__head"><h3>${Issues Summary}</h3></div>
          <div class="fha-card__body">
            <table class="fha-data-table">
              <tbody>
                <tr><td><strong>${Total Issues}</strong></td><td>{{c.getIssues().length}}</td></tr>
                <tr><td><span class="issue-badge sev-high">HIGH</span></td><td>{{c.countBySeverity('high')}}</td></tr>
                <tr><td><span class="issue-badge sev-medium">MEDIUM</span></td><td>{{c.countBySeverity('medium')}}</td></tr>
                <tr><td><span class="issue-badge sev-low">LOW</span></td><td>{{c.countBySeverity('low')}}</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Issues -->
    <div ng-show="c.isTab('issues')">
      <div class="fha-card">
        <div class="fha-card__body">
          <div class="filter-bar">
            <label>${Severity}:</label>
            <select ng-model="c.issueFilters.severity">
              <option value="all">${All}</option>
              <option value="high">${High}</option>
              <option value="medium">${Medium}</option>
              <option value="low">${Low}</option>
            </select>
            <label>${Search}:</label>
            <input type="text" ng-model="c.issueFilters.search" placeholder="${Filter issues}">
            <button class="fha-tab-btn" style="border:none;" ng-click="c.resetFilters()">
              <i class="fa fa-refresh"></i> ${Reset}
            </button>
          </div>

          <table class="fha-data-table" ng-if="c.filteredIssues().length">
            <thead>
              <tr>
                <th style="width:120px;">${Severity}</th>
                <th style="width:160px;">${Category}</th>
                <th style="width:140px;">${Code}</th>
                <th>${Message}</th>
                <th style="width:60px;">${Action}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="issue in c.filteredIssues()">
                <td><span class="issue-badge" ng-class="{'sev-high': issue.severity=='high','sev-medium': issue.severity=='medium','sev-low': issue.severity=='low'}">{{issue.severity | uppercase}}</span></td>
                <td>{{issue.category || 'general'}}</td>
                <td>{{issue.code}}</td>
                <td>{{issue.message}}</td>
                <td>
                  <a class="fha-link" ng-if="issue.record_sys_id" ng-click="c.openRecord(issue.record_table, issue.record_sys_id)">
                    <i class="fa fa-external-link"></i>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div ng-if="!c.filteredIssues().length" style="padding:12px 0;">
            <span class="pill gray">${No issues to display}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Table / Automation / Integration / Security -->
    <div ng-show="c.isTab('table')">
      <div class="fha-card">
        <div class="fha-card__head"><h3>${Table items}</h3></div>
        <div class="fha-card__body" ng-if="c.getCategoryItems('table').length">
          <table class="fha-data-table">
            <thead>
              <tr>
                <th>${Type}</th>
                <th>${Name}</th>
                <th>${Table}</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in c.getCategoryItems('table')">
                <td>{{item.item_label || item.type || item.item_type}}</td>
                <td>{{item.name || item.label || item.field || item.code}}</td>
                <td>{{item.table}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="fha-card__body" ng-if="!c.getCategoryItems('table').length"><span class="pill gray">${No data}</span></div>
      </div>
    </div>

    <div ng-show="c.isTab('automation')">
      <div class="fha-card">
        <div class="fha-card__head"><h3>${Automation Items}</h3></div>
        <div class="fha-card__body" ng-if="c.getAutomationItems().length">
          <table class="fha-data-table">
            <thead><tr><th>${Type}</th><th>${Name}</th><th>${Table}</th><th>${Status}</th></tr></thead>
            <tbody>
              <tr ng-repeat="item in c.getAutomationItems()">
                <td>{{item.item_label || item.type || item.item_type}}</td>
                <td>{{item.name || item.label}}</td>
                <td>{{item.trigger_table || item.table}}</td>
                <td>
                  <span class="pill blue" ng-if="item.active !== false">${Active}</span>
                  <span class="pill gray" ng-if="item.active === false">${Inactive}</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="fha-card__body" ng-if="!c.getAutomationItems().length"><span class="pill gray">${No data}</span></div>
      </div>
    </div>

    <div ng-show="c.isTab('integration')">
      <div class="fha-card">
        <div class="fha-card__head"><h3>${Integration Items}</h3></div>
        <div class="fha-card__body" ng-if="c.getIntegrationItems().length">
          <table class="fha-data-table">
            <thead><tr><th>${Type}</th><th>${Name}</th><th>${Status}</th></tr></thead>
            <tbody>
              <tr ng-repeat="item in c.getIntegrationItems()">
                <td>{{item.item_label || item.type || item.item_type}}</td>
                <td>{{item.name || item.label}}</td>
                <td>
                  <span class="pill blue" ng-if="item.active !== false">${Active}</span>
                  <span class="pill gray" ng-if="item.active === false">${Inactive}</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="fha-card__body" ng-if="!c.getIntegrationItems().length"><span class="pill gray">${No data}</span></div>
      </div>
    </div>

    <div ng-show="c.isTab('security')">
      <div class="fha-card">
        <div class="fha-card__head"><h3>${Security Items}</h3></div>
        <div class="fha-card__body" ng-if="c.getSecurityItems().length">
          <table class="fha-data-table">
            <thead><tr><th>${Operation}</th><th>${Name}</th><th>${Inherited}</th></tr></thead>
            <tbody>
              <tr ng-repeat="item in c.getSecurityItems()">
                <td>{{item.operation || item.item_label || item.item_type}}</td>
                <td>{{item.name || item.label}}</td>
                <td>
                  <span class="pill blue" ng-if="!item.inherited">${Direct}</span>
                  <span class="pill gray" ng-if="item.inherited">${Inherited}</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="fha-card__body" ng-if="!c.getSecurityItems().length"><span class="pill gray">${No data}</span></div>
      </div>
    </div>

  </div>
</div>]]></template>
    </sp_widget>
</record_update>
