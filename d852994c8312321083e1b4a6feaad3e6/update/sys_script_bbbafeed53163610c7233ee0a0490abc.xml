<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script">
    <sys_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <advanced>true</advanced>
        <collection>x_1310794_founda_0_verification_items</collection>
        <description>Auto-populate metadata (displayName, record_type, icon, color) on insert.</description>
        <filter_condition/>
        <name>FHA Populate Verification Metadata</name>
        <order>100</order>
        <when>before</when>
        <insert>true</insert>
        <update>false</update>
        <script><![CDATA[(function executeRule(current, previous /*null when async*/) {
    if (!current || !current.isNewRecord()) return;

    // Avoid overriding if already provided
    var hasMeta = false;
    try {
        var raw = current.metadata + '';
        if (raw) {
            var obj = JSON.parse(raw);
            hasMeta = obj && Object.keys(obj).length > 0;
        }
    } catch (e) {
        hasMeta = false;
    }
    if (hasMeta) return;

    var util = new x_1310794_founda_0.FHAVerificationMetadataUtil();
    var built = util.build(current);
    if (built) current.metadata = built;

})(current, previous);]]></script>
        <sys_class_name>sys_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2026-01-13 20:45:00</sys_created_on>
        <sys_id>bbbafeed53163610c7233ee0a0490abc</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FHA Populate Verification Metadata</sys_name>
        <sys_package display_value="Foundation Health Analyzer" source="x_1310794_founda_0">d852994c8312321083e1b4a6feaad3e6</sys_package>
        <sys_policy/>
        <sys_scope display_value="Foundation Health Analyzer">d852994c8312321083e1b4a6feaad3e6</sys_scope>
        <sys_update_name>sys_script_bbbafeed53163610c7233ee0a0490abc</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2026-01-13 20:45:00</sys_updated_on>
    </sys_script>
</record_update>
